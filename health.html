<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜¿è­·çš„å¥åº·æ•™å®¤</title>
    <link href="media_icon.png" rel="shortcut icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen bg-green-50 font-sans text-slate-800 pb-10">

    <header class="bg-green-600 text-white p-4 shadow-lg sticky top-0 z-10">
        <div class="w-full flex items-center justify-between px-2">
            
            <button onclick="location.href='index.html'" class="p-1 hover:bg-green-700 rounded-lg transition-colors">
                <i data-lucide="arrow-left" class="w-6 h-6"></i>
            </button>
            
            <h1 class="text-xl font-bold flex items-center gap-2">
                <i data-lucide="sprout" class="w-5 h-5"></i>
                é˜¿è­·çš„å¥åº·æ•™å®¤
            </h1>
            
            <div class="w-8"></div> 
        </div>
    </header>

    <main class="max-w-md mx-auto p-4 space-y-6">
        
        <div class="bg-white rounded-2xl p-6 shadow-md border-b-4 border-green-200">
            <h3 class="text-lg font-bold text-green-800 flex items-center gap-2 mb-4">
                <i data-lucide="calculator" class="w-5 h-5"></i>
                æˆ‘ä»Šå¤©è©²åƒå¤šå°‘ï¼Ÿ(BMRè¨ˆç®—)
            </h3>
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="text-xs font-bold text-slate-500">èº«é«˜ (cm)</label>
                    <input type="number" id="heightInput" class="w-full bg-slate-100 rounded-lg p-2 mt-1 focus:ring-2 focus:ring-green-300 outline-none" placeholder="170">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-500">é«”é‡ (kg)</label>
                    <input type="number" id="weightInput" class="w-full bg-slate-100 rounded-lg p-2 mt-1 focus:ring-2 focus:ring-green-300 outline-none" placeholder="60">
                </div>
            </div>
            <div class="mb-4">
                <label class="text-xs font-bold text-slate-500">æ€§åˆ¥ / æ´»å‹•é‡</label>
                <div class="flex gap-2 mt-1">
                    <select id="genderInput" class="bg-slate-100 rounded-lg p-2 text-sm flex-1 outline-none">
                        <option value="male">ç”·ç”Ÿ</option>
                        <option value="female">å¥³ç”Ÿ</option>
                    </select>
                    <select id="activityInput" class="bg-slate-100 rounded-lg p-2 text-sm flex-[2] outline-none">
                        <option value="1.2">ä¹…åä¸å‹•</option>
                        <option value="1.375">è¼•åº¦æ´»å‹• (1-3å¤©)</option>
                        <option value="1.55">ä¸­åº¦æ´»å‹• (3-5å¤©)</option>
                    </select>
                </div>
            </div>
            <button onclick="calculateBMR()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-lg transition-colors mb-4">è¨ˆç®—ç†±é‡</button>
            
            <div id="bmrResult" class="hidden bg-green-50 p-3 rounded-lg border border-green-200 text-center">
                <p class="text-xs text-green-600">ä½ æ¯æ—¥å»ºè­°æ”å–ç´„</p>
                <p class="text-2xl font-black text-green-700 my-1"><span id="calValue">0</span> <span class="text-sm">å¤§å¡</span></p>
                <p class="text-xs text-green-600">åˆé¤å»ºè­°æ§åˆ¶åœ¨ 600-800 å¤§å¡ï¼</p>
            </div>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-md border-b-4 border-yellow-200">
            <h3 class="text-lg font-bold text-slate-800 flex items-center gap-2 mb-4">
                <i data-lucide="pie-chart" class="w-5 h-5 text-yellow-500"></i>
                é¤ç›¤é»ƒé‡‘æ¯”ä¾‹ (211åŸå‰‡)
            </h3>
            <div class="flex items-center justify-center mb-4">
                <div class="w-40 h-40 rounded-full border-4 border-slate-100 relative overflow-hidden shadow-inner">
                    <div class="absolute top-0 left-0 w-full h-1/2 bg-green-400 flex items-center justify-center text-white font-bold text-sm pt-4">
                        <div class="transform translate-y-4">è”¬èœ 2ä»½</div>
                    </div>
                    <div class="absolute bottom-0 left-0 w-1/2 h-1/2 bg-yellow-400 flex items-center justify-center text-white font-bold text-sm">
                        <div class="transform -translate-y-2 translate-x-1">å…¨ç©€ 1ä»½</div>
                    </div>
                    <div class="absolute bottom-0 right-0 w-1/2 h-1/2 bg-red-400 flex items-center justify-center text-white font-bold text-sm">
                        <div class="transform -translate-y-2 -translate-x-1">è›‹ç™½ 1ä»½</div>
                    </div>
                </div>
            </div>
            <ul class="text-sm text-slate-600 space-y-2 list-disc list-inside">
                <li><span class="font-bold text-green-600">è”¬èœï¼š</span>è‡³å°‘ä½”é¤ç›¤çš„ä¸€åŠï¼Œæä¾›çº–ç¶­ã€‚</li>
                <li><span class="font-bold text-yellow-600">å…¨ç©€ï¼š</span>é£¯é‡ä¸è¶…é1/4ï¼Œé¸æ“‡ç³™ç±³æ›´ä½³ã€‚</li>
                <li><span class="font-bold text-red-500">è›‹ç™½ï¼š</span>è±†é­šè›‹è‚‰é¡ï¼ŒæŒå¿ƒå¤§å°å‰›å‰›å¥½ã€‚</li>
            </ul>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-md border-b-4 border-blue-200">
            <h3 class="text-lg font-bold text-slate-800 flex items-center gap-2 mb-4">
                <i data-lucide="gamepad-2" class="w-5 h-5 text-blue-500"></i>
                å¥åº·å¤§å“‰å•ï¼šé»æ“Šç¿»ç‰Œ
            </h3>
            
            <div class="grid grid-cols-2 gap-3">
                <div class="flip-card h-32" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front bg-blue-50 border border-blue-100">
                            <div class="p-2 text-center">
                                <span class="text-2xl mb-1 block">ğŸ¥¤</span>
                                <p class="text-sm font-bold text-blue-800">å«ç³–é£²æ–™</p>
                                <p class="text-xs text-blue-400 mt-1">(é»æˆ‘)</p>
                            </div>
                        </div>
                        <div class="flip-card-back bg-red-500 text-white">
                            <div class="p-2 text-center">
                                <p class="text-xs font-bold">ç´…ç‡ˆé£Ÿç‰©ï¼</p>
                                <p class="text-xs mt-1">æ˜“é€ æˆè‚¥èƒ–èˆ‡è¡€ç³–æ³¢å‹•ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flip-card h-32" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front bg-blue-50 border border-blue-100">
                            <div class="p-2 text-center">
                                <span class="text-2xl mb-1 block">ğŸ¥¬</span>
                                <p class="text-sm font-bold text-blue-800">ç‡™é’èœ</p>
                                <p class="text-xs text-blue-400 mt-1">(é»æˆ‘)</p>
                            </div>
                        </div>
                        <div class="flip-card-back bg-green-500 text-white">
                            <div class="p-2 text-center">
                                <p class="text-xs font-bold">ç¶ ç‡ˆé£Ÿç‰©ï¼</p>
                                <p class="text-xs mt-1">å¢åŠ é£½è¶³æ„Ÿèˆ‡çº–ç¶­ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-slate-200 rounded-lg p-4 text-center">
             <button onclick="location.href='index.html'" class="text-slate-600 font-bold flex items-center justify-center gap-2 w-full">
                 <i data-lucide="utensils" class="w-4 h-4"></i> å›åˆ°åˆé¤æŠ½é¸
             </button>
        </div>
        
    </main>

    <script>
        lucide.createIcons();

        // BMR è¨ˆç®—é‚è¼¯
        function calculateBMR() {
            const h = parseFloat(document.getElementById('heightInput').value);
            const w = parseFloat(document.getElementById('weightInput').value);
            const gender = document.getElementById('genderInput').value;
            const activity = parseFloat(document.getElementById('activityInput').value);
            const resultDiv = document.getElementById('bmrResult');
            const calSpan = document.getElementById('calValue');

            if (!h || !w) {
                alert("è«‹è¼¸å…¥å®Œæ•´çš„èº«é«˜èˆ‡é«”é‡å–”ï¼");
                return;
            }

            // Mifflin-St Jeor å…¬å¼
            let bmr = (10 * w) + (6.25 * h) - (5 * 25) + 5; 
            if (gender === 'female') {
                bmr = (10 * w) + (6.25 * h) - (5 * 25) - 161;
            }

            const tdee = Math.round(bmr * activity);

            calSpan.innerText = tdee;
            resultDiv.classList.remove('hidden');
        }
    </script>
</body>
</html>
